# 预处理命令

## 预处理命令：

### #,##

`#` 和 `##` 操作符是和`#define`宏使用的。

使用`#` ：在`#`后的首个参数返回为一个带引号的字符串

```c++
#define to_string( s ) # s
//把以下命令:
    cout << to_string( Hello World! ) << endl;
//理解为 :
    cout << "Hello World!" << endl;
```

使用`##` ：连结`##`前后的内容

```c++
#define concatenate( x, y ) x ## y
    int xy = 10;
//将会使编译器把 
    cout << concatenate( x, y ) << endl;
//解释为 
    cout << xy << endl;
//理所当然,将会在标准输出处显示'10'. 
```

### #define语法：

```c++
#define macro-name replacement-string 
/*
#define命令用于把指定的字符串替换文件中的宏名称，也就是说，#define使编译器把文件中每一个macro-name替换为replacement-string，替换的字符串结束于行末，这里是一个经典的#define应用 (至少是在C中): 
*/
    #define TRUE 1
    #define FALSE 0
    ...
    int done = 0;
    while( done != TRUE ) {
       ...
    }

//#define命令的另外一个功能就是替换参数，使它假冒创建函数一样使用，如下的代码: 

    #define absolute_value( x ) ( ((x) < 0) ? -(x) : (x) )
    ...
    int x = -1;
    while( absolute_value( x ) ) {
       ...
    }

/*当使用复杂的宏时,最好使用额外的圆括号，注意在以上的例子中，变量"x"总是出现在它自己的括号中，这样，它就可以在和0比较，或变成负值(乘以-1)前计算值。同样的，整个宏也被括号围绕，以防止和其它代码混淆。如果你不注意的话，你可能会被编译器曲解你的代码。*/
```

### #if, #ifdef, #ifndef, #else, #elif, #endif 

这些命令让编译器进行简单的逻辑控制。

当一个文件被编译时，你可以使用这些命令使某些行保留或者是去处。

```c++
#if expression
	...
```

如果表达式(expression)的值是"真"(true),那么紧随该命令的代码将会被编译。

```c++
#ifdef macro
	...
```

如果"macro"已经在一个#define声明中定义了, 那么紧随该命令的代码将会被编译。

```c++
#ifndef macro
	...
```

如果`macro`未在一个`#define`声明中定义，那么紧随命令的代码将会被编译。

命令`#elif`是`else if`的一种缩写,并且他可以想你所意愿的一样工作。你也可以在一个`#if`后插入一个`defined`或者`!defined`以获得更多的功能。

这里是一部分例子: 

```c++
#ifdef DEBUG
    cout << "This is the test version, i=" << i << endl;
#else
    cout << "This is the production version!" << endl;
#endif
```

你应该注意到第二个例子比在你的代码中插入多个"cout"进行调试的方法更简单。

------

### #include 

语法：

```c
#include <filename>  
#include "filename" 
```

本命令包含一个文件并在当前位置插入。



两种语法的主要不同之处是在于：

如果`filename`括在尖括号中，那么编译器不知道如何搜索它。

如果`filename`括在引号中，那么编译器可以简单的搜索到文件。



两种搜索的方式是由编译器决定的：

一般尖括号意味着在标准库目录中搜索，引号就表示在当前目录中搜索。



The  spiffy new 整洁的新C++ `#include`目录不需要直接映射到`filenames`，至少对于标准库是这样。这就是你有时能够成功编译以下命令的原因 

```c++
#include <iostream>
```

------

### #line 

语法：

```c
#line line_number "filename" 
```

`#line`命令是用于更改`__LINE__` 和 `__FILE__`变量的值。

文件名是可选的，`__LINE__` 和 `__FILE__` 变量描述被读取的当前行和文件。

命令 ：

```c
#line 10 "main.cpp"
```

更改行号为10，当前文件改为"main.cpp". 

------

### #pragma 

`#pragma`命令可以让编程者让编译器执行某些事，因为`#pragma`命令的执行很特殊，不同的编译器使用有所不同，一个选项可以跟踪程序的执行。

------

### #undef 

`#undef`命令取消一个先前已定义的宏变量，譬如一个用`#define`定义的变量. 

------

### 预定义变量 

语法:

```
__LINE__  
__FILE__  
__DATE__  
__TIME__  
_cplusplus  
__STDC__ 
  
/*
下列参数在不同的编译器可能会有所不同, 但是一般是可用的: 
- __LINE__ 和 __FILE__ 变量表示正在处理的当前行和当前文件
- __DATE__ 变量表示当前日期,格式为*month/day/year*(月/日/年)
- __TIME__ 变量描述当前的时间,格式为*hour:minute:second*(时:分:秒)
- _cplusplus 变量只在编译一个C++程序时定义
- __STDC__ 变量在编译一个C程序时定义,编译C++时也有可能定义
*/
```

## 转移字符

| **转义字符** | **描述**            |
| ------------ | ------------------- |
| \'           | 单引号              |
| \"           | 双引号              |
| \\           | 反斜杠              |
| \0           | 空字符              |
| \a           | 响铃                |
| \b           | 后退                |
| \f           | 走纸                |
| \n           | 换行                |
| \r           | 回车                |
| \t           | 水平制表符          |
| \v           | 垂直制表符          |
| \xnnn        | 表示十六进制数(nnn) |

## ASCII表

| 十进制 | 八进制 | 十六进制 | 字符 | 描述                                                    |
| ------ | ------ | -------- | ---- | ------------------------------------------------------- |
| 0      | 0      | 00       | NUL  | '\0'                                                    |
| 1      | 1      | 01       | SOH  | start of header(标题开头)                               |
| 2      | 2      | 02       | STX  | start of text(文本开头)                                 |
| 3      | 3      | 03       | ETX  | end of text(文本结尾)                                   |
| 4      | 4      | 04       | EOT  | end of transmission(传输结束)                           |
| 5      | 5      | 05       | ENQ  | enquiry(询问)                                           |
| 6      | 6      | 06       | ACK  | acknowledge(承认)                                       |
| 7      | 7      | 07       | BEL  | bell(钟声)                                              |
| 8      | 10     | 08       | BS   | backspace(退格)                                         |
| 9      | 11     | 09       | HT   | horizontal tab(水平选项卡)                              |
| 10     | 12     | 0A       | LF   | line feed(路线馈线)                                     |
| 11     | 13     | 0B       | VT   | vertical tab(垂直选项卡)                                |
| 12     | 14     | 0C       | FF   | form feed(送纸)                                         |
| 13     | 15     | 0D       | CR   | carriage return(回车)                                   |
| 14     | 16     | 0E       | SO   | shift out(调出)                                         |
| 15     | 17     | 0F       | SI   | shift in(转入)                                          |
| 16     | 20     | 10       | DLE  | data link escape(数据链路转义)                          |
| 17     | 21     | 11       | DC1  | no assignment, but usually XON(没有任务，但通常是XON)   |
| 18     | 22     | 12       | DC2  | ()                                                      |
| 19     | 23     | 13       | DC3  | no assignment, but usually XOFF(没有任务，但通常是XOFF) |
| 20     | 24     | 14       | DC4  | ()                                                      |
| 21     | 25     | 15       | NAK  | negative acknowledge(否定应答)                          |
| 22     | 26     | 16       | SYN  | synchronous idle(同步空闲)                              |
| 23     | 27     | 17       | ETB  | end of transmission block(变速箱端块)                   |
| 24     | 30     | 18       | CAN  | cancel(取消)                                            |
| 25     | 31     | 19       | EM   | end of medium(介质结束)                                 |
| 26     | 32     | 1A       | SUB  | substitute(替代品)                                      |
| 27     | 33     | 1B       | ESC  | escape(逃逸)                                            |
| 28     | 34     | 1C       | FS   | file seperator(文件分隔器)                              |
| 29     | 35     | 1D       | GS   | group seperator(群分隔符)                               |
| 30     | 36     | 1E       | RS   | record seperator(记录分离器)                            |
| 31     | 37     | 1F       | US   | unit seperator(单元分离器)                              |
| 32     | 40     | 20       | SPC  | space(空间)                                             |
| 33     | 41     | 21       | !    |                                                         |
| 34     | 42     | 22       | "    |                                                         |
| 35     | 43     | 23       | #    |                                                         |
| 36     | 44     | 24       | $    |                                                         |
| 37     | 45     | 25       | %    |                                                         |
| 38     | 46     | 26       | &    |                                                         |
| 39     | 47     | 27       | '    |                                                         |
| 40     | 50     | 28       | (    |                                                         |
| 41     | 51     | 29       | )    |                                                         |
| 42     | 52     | 2A       | *    |                                                         |
| 43     | 53     | 2B       | +    |                                                         |
| 44     | 54     | 2C       | ,    |                                                         |
| 45     | 55     | 2D       | -    |                                                         |
| 46     | 56     | 2E       | .    |                                                         |
| 47     | 57     | 2F       | /    |                                                         |
| 48     | 60     | 30       | 0    |                                                         |
| 49     | 61     | 31       | 1    |                                                         |
| 50     | 62     | 32       | 2    |                                                         |
| 51     | 63     | 33       | 3    |                                                         |
| 52     | 64     | 34       | 4    |                                                         |
| 53     | 65     | 35       | 5    |                                                         |
| 54     | 66     | 36       | 6    |                                                         |
| 55     | 67     | 37       | 7    |                                                         |
| 56     | 70     | 38       | 8    |                                                         |
| 57     | 71     | 39       | 9    |                                                         |
| 58     | 72     | 3A       | :    |                                                         |
| 59     | 73     | 3B       | ;    |                                                         |
| 60     | 74     | 3C       | <    |                                                         |
| 61     | 75     | 3D       | =    |                                                         |
| 62     | 76     | 3E       | >    |                                                         |
| 63     | 77     | 3F       | ?    |                                                         |
| 64     | 100    | 40       | @    |                                                         |
| 65     | 101    | 41       | A    |                                                         |
| 66     | 102    | 42       | B    |                                                         |
| 67     | 103    | 43       | C    |                                                         |
| 68     | 104    | 44       | D    |                                                         |
| 69     | 105    | 45       | E    |                                                         |
| 70     | 106    | 46       | F    |                                                         |
| 71     | 107    | 47       | G    |                                                         |
| 72     | 110    | 48       | H    |                                                         |
| 73     | 111    | 49       | I    |                                                         |
| 74     | 112    | 4A       | J    |                                                         |
| 75     | 113    | 4B       | K    |                                                         |
| 76     | 114    | 4C       | L    |                                                         |
| 77     | 115    | 4D       | M    |                                                         |
| 78     | 116    | 4E       | N    |                                                         |
| 79     | 117    | 4F       | O    |                                                         |
| 80     | 120    | 50       | P    |                                                         |
| 81     | 121    | 51       | Q    |                                                         |
| 82     | 122    | 52       | R    |                                                         |
| 83     | 123    | 53       | S    |                                                         |
| 84     | 124    | 54       | T    |                                                         |
| 85     | 125    | 55       | U    |                                                         |
| 86     | 126    | 56       | V    |                                                         |
| 87     | 127    | 57       | W    |                                                         |
| 88     | 130    | 58       | X    |                                                         |
| 89     | 131    | 59       | Y    |                                                         |
| 90     | 132    | 5A       | Z    |                                                         |
| 91     | 133    | 5B       | [    |                                                         |
| 92     | 134    | 5C       | \    |                                                         |
| 93     | 135    | 5D       | ]    |                                                         |
| 94     | 136    | 5E       | ^    |                                                         |
| 95     | 137    | 5F       | _    |                                                         |
| 96     | 140    | 60       | `    |                                                         |
| 97     | 141    | 61       | a    |                                                         |
| 98     | 142    | 62       | b    |                                                         |
| 99     | 143    | 63       | c    |                                                         |
| 100    | 144    | 64       | d    |                                                         |
| 101    | 145    | 65       | e    |                                                         |
| 102    | 146    | 66       | f    |                                                         |
| 103    | 147    | 67       | g    |                                                         |
| 104    | 150    | 68       | h    |                                                         |
| 105    | 151    | 69       | i    |                                                         |
| 106    | 152    | 6A       | j    |                                                         |
| 107    | 153    | 6B       | k    |                                                         |
| 108    | 154    | 6C       | l    |                                                         |
| 109    | 155    | 6D       | m    |                                                         |
| 110    | 156    | 6E       | n    |                                                         |
| 111    | 157    | 6F       | o    |                                                         |
| 112    | 160    | 70       | p    |                                                         |
| 113    | 161    | 71       | q    |                                                         |
| 114    | 162    | 72       | r    |                                                         |
| 115    | 163    | 73       | s    |                                                         |
| 116    | 164    | 74       | t    |                                                         |
| 117    | 165    | 75       | u    |                                                         |
| 118    | 166    | 76       | v    |                                                         |
| 119    | 167    | 77       | w    |                                                         |
| 120    | 170    | 78       | x    |                                                         |
| 121    | 171    | 79       | y    |                                                         |
| 122    | 172    | 7A       | z    |                                                         |
| 123    | 173    | 7B       | {    |                                                         |
| 124    | 174    | 7C       | \|   |                                                         |
| 125    | 175    | 7D       | }    |                                                         |
| 126    | 176    | 7E       | ~    |                                                         |
| 127    | 177    | 7F       | DEL  | delete(删除)                                            |

# C/C++ Keywords

| 关键字           | 含义                                                 |
| ---------------- | ---------------------------------------------------- |
| asm              | 插入一个汇编指令                                     |
| auto             | 声明一个本地变量                                     |
| bool             | 声明一个布尔型变量                                   |
| break            | 结束一个循环                                         |
| case             | 一个 switch 语句的一部分                             |
| catch            | 处理 thrown 产生的异常                               |
| char             | 声明一个字符型变量                                   |
| class            | 声明一个类                                           |
| const            | 声明一个常量                                         |
| const_cast       | 从一个 const 变量中抛出                              |
| continue         | 在循环中间断循环                                     |
| default          | 是一个 case 语句中的缺省项                           |
| delete           | 释放内存                                             |
| do               | 构造循环体                                           |
| double           | 声明一个双精度浮点变量                               |
| dynamic_cast     | 动态投射                                             |
| else             | 是一个[if](keywords_details.html#if)语句中的预备条件 |
| enum             | 创建列举类型                                         |
| explicit         | 仅用在构造器的正确匹配                               |
| extern           | 告诉编译器在别的地方变量已经被定义过了               |
| false            | 属于布尔值                                           |
| float            | 声明一个浮点型变量                                   |
| for              | 构造循环                                             |
| friend           | 允许非函数成员使用私有数据                           |
| goto             | 跳转到程序的其它地方                                 |
| if               | 从一次判断的结果处执行代码                           |
| inline           | 定义一个函数为内联                                   |
| int              | 声明一个整型变量                                     |
| long             | 声明一个长整型变量                                   |
| mutable          | 忽略 const 变量                                      |
| namespace        | 用一个定义的范围划分命名空间                         |
| new              | 允许动态存储一个新变量                               |
| operator         | 创建重载函数                                         |
| private          | 在一个类中声明私有成员                               |
| protected        | 在一个类中声明被保护成员                             |
| public           | 在一个类中声明公共成员                               |
| register         | 定义一个寄存器变量                                   |
| reinterpret_cast | 改变一个变量的类型                                   |
| return           | 从一个函数中返回                                     |
| short            | 声明一个短整型变量                                   |
| signed           | 修改变量类型声明                                     |
| sizeof           | 返回一个变量或类型的长度                             |
| static           | 给一个变量创建永久的存储空间                         |
| static_cast      | 执行一个非多态性 cast                                |
| struct           | 创建一个新结构体                                     |
| switch           | 让一个变量在不同的判断下执行不同的代码               |
| template         | 创建一个给特殊函数                                   |
| this             | 指向当前对象                                         |
| throw            | 抛出一个异常                                         |
| true             | 布尔类型的一个值                                     |
| try              | 执行一个被 throw 抛出的异常                          |
| typedef          | 从现有的类型中创建一个新类型.                        |
| typeid           | 描述一个对象                                         |
| typename         | 声明一个类或未定义的类型                             |
| union            | 一个结构体在当前位置分配给多个变量相同的内存         |
| unsigned         | 声明一个无符号整型变量                               |
| using            | 用来输入一个 namespace                               |
| virtual          | 创建一个不被已构成类有限考虑的函数                   |
| void             | 声明函数或数据是无关联数据类型                       |
| volatile         | 警告编译器有关的变量可能被出乎意料的修改             |
| wchar_t          | 声明一个带有宽度的字符型变量                         |
| while            | 用来构成循环                                         |

# 运算符

## 算术运算符

| 运算符 | 描述                             |
| :----- | :------------------------------- |
| +      | 把两个操作数相加                 |
| -      | 从第一个操作数中减去第二个操作数 |
| *      | 把两个操作数相乘                 |
| /      | 分子除以分母                     |
| %      | 取模运算符，整除后的余数         |
| ++     | 自增运算符，整数值增加 1         |
| --     | 自减运算符，整数值减少 1         |

## 关系运算符

| 运算符 | 描述                                                         |
| :----- | :----------------------------------------------------------- |
| ==     | 检查两个操作数的值是否相等，如果相等则条件为真。             |
| !=     | 检查两个操作数的值是否相等，如果不相等则条件为真。           |
| >      | 检查左操作数的值是否大于右操作数的值，如果是则条件为真。     |
| <      | 检查左操作数的值是否小于右操作数的值，如果是则条件为真。     |
| >=     | 检查左操作数的值是否大于或等于右操作数的值，如果是则条件为真。 |
| <=     | 检查左操作数的值是否小于或等于右操作数的值，如果是则条件为真。 |

## 逻辑运算符

| 运算符 | 描述                                                         |
| :----- | :----------------------------------------------------------- |
| &&     | 称为逻辑与运算符。如果两个操作数都非零，则条件为真。         |
| \|\|   | 称为逻辑或运算符。如果两个操作数中有任意一个非零，则条件为真。 |
| !      | 称为逻辑非运算符。用来逆转操作数的逻辑状态。如果条件为真则逻辑非运算符将使其为假。 |

## 赋值运算符

| 运算符 | 描述                                                         | 实例                            |
| :----- | :----------------------------------------------------------- | :------------------------------ |
| =      | 简单的赋值运算符，把右边操作数的值赋给左边操作数             | C = A + B 将把 A + B 的值赋给 C |
| +=     | 加且赋值运算符，把右边操作数加上左边操作数的结果赋值给左边操作数 | C += A 相当于 C = C + A         |
| -=     | 减且赋值运算符，把左边操作数减去右边操作数的结果赋值给左边操作数 | C -= A 相当于 C = C - A         |
| *=     | 乘且赋值运算符，把右边操作数乘以左边操作数的结果赋值给左边操作数 | C *= A 相当于 C = C * A         |
| /=     | 除且赋值运算符，把左边操作数除以右边操作数的结果赋值给左边操作数 | C /= A 相当于 C = C / A         |
| %=     | 求模且赋值运算符，求两个操作数的模赋值给左边操作数           | C %= A 相当于 C = C % A         |
| <<=    | 左移且赋值运算符                                             | C <<= 2 等同于 C = C << 2       |
| >>=    | 右移且赋值运算符                                             | C >>= 2 等同于 C = C >> 2       |
| &=     | 按位与且赋值运算符                                           | C &= 2 等同于 C = C & 2         |
| ^=     | 按位异或且赋值运算符                                         | C ^= 2 等同于 C = C ^ 2         |
| \|=    | 按位或且赋值运算符                                           | C \|= 2 等同于 C = C \| 2       |

## 杂项运算符

| 运算符   | 描述             | 实例                                 |
| :------- | :--------------- | :----------------------------------- |
| sizeof() | 返回变量的大小。 | sizeof(a) 将返回 4，其中 a 是整数。  |
| &        | 返回变量的地址。 | &a; 将给出变量的实际地址。           |
| *        | 指向一个变量。   | *a; 将指向一个变量。                 |
| ? :      | 条件表达式       | 如果条件为真 ? 则值为 X : 否则值为 Y |

## 操作符优先级

| 类别       | 运算符                            | 结合性   |
| :--------- | :-------------------------------- | :------- |
| 后缀       | () [] -> . ++ - -                 | 从左到右 |
| 一元       | + - ! ~ ++ - - (type)* & sizeof   | 从右到左 |
| 乘除       | * / %                             | 从左到右 |
| 加减       | + -                               | 从左到右 |
| 移位       | << >>                             | 从左到右 |
| 关系       | < <= > >=                         | 从左到右 |
| 相等       | == !=                             | 从左到右 |
| 位与 AND   | &                                 | 从左到右 |
| 位异或 XOR | ^                                 | 从左到右 |
| 位或 OR    | \|                                | 从左到右 |
| 逻辑与 AND | &&                                | 从左到右 |
| 逻辑或 OR  | \|\|                              | 从左到右 |
| 条件       | ?:                                | 从右到左 |
| 赋值       | = += -= *= /= %=>>= <<= &= ^= \|= | 从右到左 |
| 逗号       | ,                                 | 从左到右 |

# 输入输出

## 定义变量

语法：

```c
//数据类型 变量名称
//定义
char a;
int b;
float c;
double d;
//初始化
char a = 'a';
int b = 0;
float c = 0.1;
double d = 3.14;
```

| 类型   | 描述                                                |
| :----- | :-------------------------------------------------- |
| char   | 通常是一个字节（八位）。                            |
| int    | 整型四个字节，取值范围 -2147483648 到 2147483647。  |
| float  | 单精度浮点值。单精度是1位符号，8位指数，23位小数。  |
| double | 双精度浮点值。双精度是1位符号，11位指数，52位小数。 |
| void   | 表示类型的缺失。                                    |

变量的名称可以由字母、数字和下划线字符组成。它必须以字母或下划线开头。大写字母和小写字母是不同的，因为 C 是大小写敏感的。

## 输入输出

### getchar：从STDIN（标准输入）读取一个字符

```c
//stdio.h 声明：int __cdecl getchar(void);
char c;
c = getchar();
```

### gets：从STDIN（标准输入）读取一个字符串

```c
//stdio.h 声明：char *__cdecl gets(char *_Buffer) __MINGW_ATTRIB_DEPRECATED_SEC_WARN;
char *s;
gets(s);
//遇到 \n 停止输入

//注意以下情况!!!
char c[2];
//或写成：char *s = (char *)malloc(sizeof(char));
gets(c);
//输入==>aaaa，内存中储存情况为：c[1] = 'a'、c[2] = 'a'、c[3] = 'a'、c[4] = 'a'
```

### scanf：从STDIN（标准输入）读取格式化输入

```c
//stdio.h 声明：  int __cdecl scanf(const char * __restrict__ _Format,...) __MINGW_ATTRIB_DEPRECATED_SEC_WARN;

char s[2];
scanf("%d", &s);
//int scanf(const char *format, ...) 函数从标准输入流 stdin 读取输入，并根据提供的 format 来浏览输入，过程中的空格结束 format，遇到'\n'停止输入。
```

### putchar：写一个字符到STDOUT（标准输出）

```c
//stdio.h声明：  int __cdecl putchar(int _Ch);
int c;
c = getchar();
//输入==>aaaa
putchar(c);
//输出==>a
```

### puts：写一个字符串到STDOUT（标准输出）

```c
//stdio.h声明：  int __cdecl puts(const char *_Str);
char s[2];
//或写成：char *s = (char *)malloc(sizeof(char));
gets(s);
//输入==>aaaa
puts(s);
//输出==>aaaa
```

### printf：写格式化的输出到**STDOUT(标准输出)

```c
//stdio.h声明：  int __cdecl printf(const char * __restrict__ _Format,...);
char s[2];
//或写成：char *s = (char *)malloc(sizeof(char));
scanf("%d", &s);
//输入==>aaaa
//输入==>a a a a
printf("%s", s);
//输出==>aaaa
//输出==>a
gets(s);
//输入==>aaaa
//输入==>a a a a
printf("%s", s);
//输出==>aaaa
//输出==>a a a a
```

